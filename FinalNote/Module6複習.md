# 網路架構
1. 互聯網構成
    1. 網路構成:
        1. 網路邊緣: 計算設備: 主機和伺服器
        2. 網路核心: 交換器, 路由器
            1. 一個網路也會有邊緣路由器用來連接另一個網路
            2. 分組交換: 主機把訊息分解成較小的數據包, 經由路遊戲轉發
        3. 網路媒介: 通訊線路
    2. ISP網路提供商, CDN內容提供網路
    3. 互聯網為連接網路的網路: 需要各種協議來交流
    4. 多數協議由IETF互聯網工程任務組定義
    5. 分布式應用程序提供各式接口互相連接
2. 網路核心功能
    1. 轉發/交換: 本地操作, 將數據經轉交給下個路由器/交換器
    2. 路由: 全局操作, 確定來源到目標的路徑, 交給本地進行轉發
3. 層級結構
    1. 一層提供一種服務
    2. 每一層在內部進行處理
    3. 會依賴下層提供的服務
    4.   參考模型 (七層)
        1. 物理
        2. 鏈路
        3. 網路
        4. 傳輸
        5. 會話: 數據同步, 檢查, 復原等
        6. 表示: 處理加密, 壓縮等
        7. 應用程式
    5. 現在的互聯網協議
        1. 鏈路: 包含物理, 如802.11, PP
        2. 網路: 路由, 如IP
        3. 傳輸: 數據傳輸, 如TCP, UDP
        4. 應用程式: 包含會話層, 表示層, 用於支持網路應用, 如HTTP, DNS
    6. 封裝: 在數據外加一層數據, 讓發送後可以讓服務知道要做甚麼, 讀取完會對數據進行拆包


# MAC地址
1. 網路地址
    1. MAC -> IP -> TCP/UDP 端口
    2. 例子: 一個數據要從經過兩個router, 一開始封包MAC為router1地址, 在router1會拆包然後重新封包變成router2的MAC地址, 最後才會是目的地址
2. MAC地址
    1. 有48bits, 以12個十六進制表示
    2. 不會牽涉IP位置, 用於本地網路環境
    3. 多由交換機使用, 來將數據傳給下個主機


# IP地址
1. IPv4
    1. 地址有32bits, 有分ABCDE類, 
    2. 地址前幾bits做類別判斷, 接著是網路號(網段號)和主機號
    3. 類型範圍:
        1. A類: 0.0.0.0到127.255.255.255
        2. B類: 128.0.0.0到191.255.255.255
        3. C類: 192.0.0.0到239.255.255.255
        4. D類: 用作Multicasting, 幾乎沒有使用
        5. E類保留不用
    4. 類型從A到C, 可用網路地址越多, 一個網路底下可用主機越少
2. IPv4預留專有地址
    1. 只在區域網路內使用
    2. 1個A類: 10.0.0.0
    3. 16個B類: 172.16.0.0 
    4. 256個C類: 192.168.0.0
3. 子網
    1. 因為區域網路IPv4地址有限, 要把AB類的主機號切分成子網路和主機號增加可用地址
    2. subnet mask子網絡遮罩/子網掩碼
        1. 掩碼: 類原本的網路號為1, 主機號為0
        2. 把要做子網路的地址和掩碼做與運算(兩個位都是1)
        3. 子網也會有主保留機號, 例如全0代表此網路, 全1用作廣播
    3. VLSM可變長度子網掩碼: 藉由不同長度掩碼再分割子網
        1. 優點: 
            1. 可以有較小的網路交換器, 加速網路
            2. 易於管理
            3. 更安全
        2. 缺點:
            1. 增加複雜性, 需要比較多路由器
            2. 結構建立後難改變
4. CIDR無類別域間路由
    1. 類似VLSM, 但不受類型限制, 子網分配更有彈性
    2. 掩碼以`/n`表示, n代表掩碼有幾個1
        - A類變成`/8`, B類變成`/16`
    3. 兩種子網方式也可以用於區域網路
5. CIDR地址分配範例
    1. 有一個地址塊200.25.0.0/16
    2. 分給A二分之一, B四分之一, C, D八分之一
    3. 解法
        1. 原地止1100100.00011001.00010000.00000000, 200.25.16.0/20
        2. 先分二分, 也就是把掩碼前推一位
        3. 分給A:1100100.00011001.00010000.00000000, 200.25.16.0/21
        4. 保留1100100.00011001.00011000.00000000, 200.25.24.0/21
        5. 後面依相同方式切割


# 端口
1. 傳輸層使用: 用來將傳輸進主機的數據, 分配給應用程式
2. 每個啟用的應用程式如果有需要會聽一個或多個端口, 一個端口只能分配給一個程式
3. 分為TCP/UDP報頭
    1. TCP多用於傳輸一串封包, 有比較多的報頭數據, 用來確認數據是否有完整傳輸
    2. UDP指校驗此封包
4. 是16位整數類型: 0~65535
5. 由IANA維護:
    1. 0~1023: 常用端口
    2. 1024~49151: 開放註冊端口
    3. 49151~65535: 臨時端口


# 網路虛擬化
1. 覆蓋原本的物理網路, 使用戶只能依照虛擬網路邏輯連接
2. 目的:
    1. 資源管理和優化
    2. 創建多個執行環境
    3. 建立物理網路前進行測試
    4. 方便轉移硬體或軟體
    5. 提高安全性
    6. 模擬真實環境進行測試
3. 虛擬化的實現
    1. 虛擬化: 對物理網路進行覆蓋
    2. 隧道/隧穿技術: 增加對網路的操作性 
    3. VPN虛擬專用網路:隔離網路環境以保護安全
4. 隧道技術
    1. 將整個數據包放入另一個數據包進行發送
    2. 需要協議:
        1. 乘客協議: 原本的網路協議或傳輸協議
        2. 封裝協議: 把原始封裝再封裝
        3. 運載協議: 新的網路協議或傳輸協議, 使其到達新目的
    3. 隧道類型
        1. 多對多: 一個區域網和另一個區域網路
        2. 一對多: 一台主機和另一個區域網路
        3. 一對一: 兩台主機直接通訊
5. 多對多隧道範例
    1. 路由器R1和R2有隧道
    2. 物理網路W1有一台主機C1傳一個封包目的為區域網路的主機C2, C2實際在物理網路W2
    3. R1接收到C1, 但是區網內並沒有C2, 增加封裝讓原本封包傳給R2
    4. R2拆包再傳給物理網路W2內的C2
6. VPN
    1. 一般隧道協議不會對封包不會多做保護, 只負責傳輸
    2. VPN會多加:
        1. 信任管理: 密鑰, 證書, 訪問限制
        2. 數據管理: 數據加密, 解密


# 雲計算
1. 特徵
    1. 案需求自助服務
    2. 廣泛的網路訪問, 支持各種設備
        1. 瘦客戶端: 運算主要在雲端, 客戶端只做一些簡單運算
        2. 厚客戶端: 客戶端也會處理運算
    3. 資源池
        1. 提供商會把計算資源匯集成一個虛擬的池
        2. 一個池池會提供給多個用戶, 根據需求動態分配或重新分配
        3. 池可能由多個物理主機主成, 客戶無法得到主機確切位置, 但多可以從抽象級別(例如國家, 洲)指定
    4. 快速彈性 
        1. 可以根據需求快速擴展或收縮
        2. 對多數用戶而言資源看似是無限的
    5. 可計量的服務
        1. 可以詳細計算資源的使用量
        2. 結果可以用來優化運作
2. 雲計算模型
    1. IaaS基礎設施即服務
        1. 給用戶大多數配置的權限: 例如操作系統, 儲存方式, 部署的應用 
        2. 用戶不管理基礎硬體設施: 例如主機, 網路線路
    2. PaaS平台即服務
        1. 讓用戶可以順利部屬應用程式
        2. 用戶不管理大部分配置, 只需要管理應用
    3. SaaS軟件即服務
        1. 讓用戶使用提供商運行的服務
        2. 用戶只使用應用不進行管理
    4. 其他服務
        1. 存儲即服務
        2. 數據庫即服務
        3. 大數據即服務
        4. 裸機即服務: 把整個主機給你使用, 有更多的權限. 只能算類雲服務